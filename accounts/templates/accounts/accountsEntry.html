{% extends 'base.html' %}
{% block head %}
<script type="text/javascript">
function myFunction() 
{
    var x = document.getElementById('{{form.reciept.id_for_label}}').value;
    var y = ""
    var js_reciept_title = [""];
    var js_reciept_service_fees = [""];
    var js_reciept_ass_bank_acc = [""];
   

    
    {% for r in recieptDetails %}

    js_reciept_title.push('{{r.reciept_title}}');
    js_reciept_service_fees.push({{r.service_fees}});
    js_reciept_ass_bank_acc.push('{{r.ass_bank_acc}}');
   
 	{% endfor %} 
    var i;
    for(i=1;i<=js_reciept_title.length;i++)
    {	
    	if(x==js_reciept_title[i])
    	{
    	document.getElementById('{{form.service_fees.id_for_label}}').value = js_reciept_service_fees[i];	
    	document.getElementById('{{form.bank_acc.id_for_label}}').value = js_reciept_ass_bank_acc[i];	
    	}
    }
}

function findTotal()
	{
	
	var x = parseFloat(document.getElementById('{{form.payment_fees.id_for_label}}').value);	
	var y = parseFloat(document.getElementById('{{form.service_fees.id_for_label}}').value);	
	document.getElementById('form_total').innerHTML = "Total Amount Rs " + (x+y) ;	
	}

</script>
{% endblock %}

{% block body %}
Accounts Entry Form
<br>
<form action='' method='post'>
    {% csrf_token %}
    <div class="col-sm-2">
        {{form.reciept.label_tag}}
        {{form.reciept}}
    </div>
    <div class="col-sm-2">
        {{form.bank_acc.label_tag}}
        {{form.bank_acc}}
    </div>
    <div class="col-sm-2">
        {{form.payment_fees.label_tag}}
        {{form.payment_fees}}
    </div>
    <div class="col-sm-2">
        {{form.service_fees.label_tag}}
        {{form.service_fees}}
    </div>
    <div class="col-sm-2">
        {{form.customer_name.label_tag}}
        {{form.customer_name}}
    </div>
    <div class="col-sm-2">
        {{form.username.label_tag}}
        {{form.username}}
    </div>
    <div class="col-sm-2">
        {{form.password.label_tag}}
        {{form.password}}
    </div>
    <div class="col-sm-2">
        {{form.contact_no.label_tag}}
        {{form.contact_no}}
    </div>
    <div class="col-sm-2">
        <p id='form_total'>
        Total Amount Rs 0.00
        </p>
    </div>
    <div class="col-sm-2">
        {{form.remark.label_tag}}
        {{form.remark}}
    </div>
    <div class="col-sm-2">
        <input type="submit">
    </div>
    <div class="col-sm-2">
        <a href="/accounts/close/{{date}}">Close Accounts</a>
    </div>
</form>
{% if allReciept.count > 10 %}
<div class="data-table overflowy">
{% else %}
<div class="data-table">
{% endif %}
<table border=1>
<tr>
<th>Si No</th>
<th>Transation ID</th>
<th>Date</th>
<th>Time</th>
<th>Reciept</th>
<th>Bank Account</th>
<th>Payment Fees</th>
<th>Service Fees</th>
<th>Customer Name</th>
<th>Username</th>
<th>Password</th>
<th>Contact No</th>
<th>Total Fees</th>
<th>Remark</th>
<th>Staff</th>
</tr>
{% for reciept in allReciept.reverse %}
<tr>
<td>{{forloop.revcounter}}</td>
<td>{{reciept.id}}</td>
<td>{{reciept.date}}</td>
<td>{{reciept.time}}</td>
<td>{{reciept.reciept}}</td>
<td>{{reciept.bank_acc}}</td>
<td>{{reciept.payment_fees}}</td>
<td>{{reciept.service_fees}}</td>
<td>{{reciept.customer_name}}</td>
<td>{{reciept.username}}</td>
<td>{{reciept.password}}</td>
<td>{{reciept.contact_no}}</td>
<td>{{reciept.total_fees}}</td>
<td>{{reciept.remark}}</td>
<td>{{reciept.staff}}</td>
</tr>

{% endfor %}
</table>
</div>
<br>



{% endblock %}